<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Pattern-Book - Minimal Pattern Library / Style Guide</title>
    <style>
        body {
            padding: 0px;
            margin: 0px;
            background: url('book-background.png');
        }

        .book-flip-area {
            height: 300px;
            width: 100%;
            max-width: 400px;
            margin: 15% auto 10% auto;
        }

        .book-flip-area:focus {
            outline: none;
            border: none;
        }

        #install_command {
            position: absolute;
            display: none;
        }

        .book-flip-area>* {
            pointer-events: none;
        }

        .book {
            margin: 100px auto;
            max-width: 160px;
            position: relative;
            perspective: 666px;
            transform-style: preserve-3d;
        }


        .book>* {
            box-sizing: border-box;
            transform-origin: 0% 100%;
            transform: rotateY(-30deg);
            position: absolute;
            left: 0px;
            top: -50px;
            transition: transform 1s ease;
        }

        .book__page1 {
            background: #e00;
            background-image: linear-gradient(45deg, #800, #c00 20%, #d00, #e00, #f00);
            border-left: solid 20px #633;
            color: #ffd700;
            text-align: center;
            padding-top: 70px;
            font-family: serif;
            font-size: 38px;
            font-weight: bold;
            text-shadow: -1px -1px 0px #666;
            z-index: 100;
            backface-visibility: hidden;
        }

        .book__page1:before {
            content: "";
            position: absolute;
            left: 4px;
            top: 4px;
            display: block;
            border: inset 2px #ffd700;
            border-radius: 5px;
            width: 167px;
            height: 271px;
        }

        .book__page1:after {
            content: "";
            display: block;
            border-radius: 5px;
            width: 200px;
            height: 3px;
            background: transparent;
            box-shadow: 0px 60px 10px #fff, 0px 50px 20px #fff;
            margin-top: -120px;
        }

        .book__page1b:after {
            content: "";
            display: block;
            border-radius: 5px;
            width: 200px;
            height: 3px;
            background: transparent;
            box-shadow: 0px 400px 30px #000;
            margin-top: -120px;
        }

        .book__page1,
        .book__page1b,
        .book__page_last_back {
            width: 200px;
            height: 283px;
            border-radius: 2px 5px 5px 2px;
        }

        .book__page_last_back {
            width: 204px;
        }

        .book_page1,
        .book_iespage1b {
            transition-duration: 0.5s;
        }

        .book_page1b {
            box-shadow: 0px 0px -20px -20px rgba(255, 255, 255, 0.9)
        }

        .book_page1b:after {
            content: "";
            position: absolute;
            left: 4px;
            top: 4px;
            display: block;
            border: inset 2px #ffd700;
            border-radius: 5px;
            width: 168px;
            height: 271px;
        }


        .book-flip-area:hover .book__page1,
        .book-flip-area:hover .book__page1b,
        .book-flip-area:focus .book__page1,
        .book-flip-area:focus .book__page1b {
            transform: rotateY(-110deg);
            transition-duration: 0.5s;
        }

        .book__page1b,
        .book__page_last_back {
            background: #606dbc;
            background: repeating-linear-gradient( 45deg, #b90000, #b90000 10px, #c00000 10px, #c00000 20px);
        }

        .book__paper {
            background-image: linear-gradient(to right, #999 3%, #ccc 15%, #ddd, #eee, #fff);
            border: solid 1px #ccc;
            border-radius: 2px 5px 5px 2px;
            margin-top: 2px;
            width: 202px;
            height: 280px;
            font-size: 3px;
        }

        .book__page2 {
            left: 2px;
            transition-duration: 0.8s;
        }

        .book-flip-area:hover .book__page2,
        .book-flip-area:focus .book__page2 {
            transform: rotateY(-107deg);
            transition-duration: 0.8s;
        }

        .book__page3 {
            left: 4px;
            transition: transform 1s ease;
        }

        .book-flip-area:hover .book__page3,
        .book-flip-area:focus .book__page3 {
            transform: rotateY(-106deg);
        }


        .book__page4 {
            left: 6px;
            transition: transform 1s ease;
        }

        .book-flip-area:hover .book__page4,
        .book-flip-area:focus .book__page4 {
            transform: rotateY(-102deg);
        }


        .book__page5 {
            left: 8px;
            transition: transform 1s ease;
        }

        .book-flip-area:hover .book__page5,
        .book-flip-area:focus .book__page5 {
            transform: rotateY(-97deg);
        }

        .book__page_last {
            width: 200px;
            height: 280px;
            left: 5px;
            border-radius: 2px 5px 5px 2px;
            transform: rotateY(-29deg);
            transition: transform 1s ease;
            position: relative;
            z-index: 100;
        }


        .book__page_last:after {
            content: "";
            display: block;
            border-radius: 5px;
            width: 200px;
            height: 3px;
            background: transparent;
            box-shadow: -10px 305px 30px #000;
            margin-top: -120px;
        }


        .book-flip-area:hover .book__page_last,
        .book-flip-area:focus .book__page_last {
            transform: rotateY(-9deg);
        }

        .book__after_last {
            left: 7px;
            transform: rotateY(-27deg);
        }

        .book-flip-area:hover .book__after_last,
        .book-flip-area:focus .book__after_last {
            left: 8px;
            transform: rotateY(-7deg);
        }

        .book__page_last_back {
            left: 11px;
            transform: rotateY(-27deg);
            transition: transform 1s ease;
        }

        .book-flip-area:hover .book__page_last_back,
        .book-flip-area:focus .book__page_last_back {
            left: 12px;
            transform: rotateY(-7deg);
        }

        @keyframes FadeInOutIn {
            0% {
                opacity: 1;
            }
            10% {
                opacity: 0;
            }
            60% {
                opacity: 0;
            }
            70% {
                opacity: 1;
            }
            100% {
                opacity: 1;
            }
        }

        @keyframes FadeOutInOut {
            0% {
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            60% {
                opacity: 1;
            }
            70% {
                opacity: 0;
            }
            100% {
                opacity: 0;
            }
        }

        .install_package {
            position: relative;
            margin-top: 50%;
            width: 190px;
            text-align: center;
            font-family: monospace;
            font-size: 12px;
        }

        .install_package__code {
            width: 100%;
            background-color: #666;
            background-image: linear-gradient(to right, #333, #555 10%, #666, #666);
            color: #fad6a3;
            font-weight: bold;
            padding: 5px;
        }

        .fadeinout--in {
            position: absolute;
            left: 0px;
            top: 0px;
            animation: FadeInOutIn 4.5s infinite;

        }

        .fadeinout--out {
            position: absolute;
            left: 0px;
            top: 0px;
            animation: FadeOutInOut 4.5s infinite;
        }

        .red-bands {
            background: red;
            color: white;
            position: relative;
            min-height: 10vh;
            border-top: double 20px #ffd700;
            width: 100%;
            transform: skewY(-10deg);
        }

        .red-bands:before {
            content: "";
            display: block;
            background: #bb0000;
            margin-top: 0px;
            min-height: 60vh;
            border-top: double 20px #ffd700;
            transform: skewY(30deg);
        }

        .scroll-down-hint {
            color: #fff;
            font-size: 300px;
            position: absolute;
            top: 90vh;
            transform: rotate(180deg)
        }

        .white-page {
            width: 100%;
            position: absolute;
            top: 100vh;
            background: #ccc;
        }

        .faq {
            margin: 0 auto;
            max-width: 960px;
            min-height: 100vh;
            font-family: sans-serif;
            hyphens: none;
        }
    </style>
</head>

<div class="book-flip-area" id="book-area" tabindex="0">
    <input id="install_command" value="npm install pattern-book ...OR... yarn add pattern-book">
    <div class="book">
        <div class="book__page1">
            Pattern Book
        </div>
        <div class="book__page1b"> </div>
        <div class="book__page2 book__paper">
            Why should a pattern library have an web server?
        </div>
        <div class="book__page3 book__paper">
            Why should a pattern library need to be told which styles you use?
        </div>
        <div class="book__page4 book__paper">
            Why can't a pattern library work with your existing components?
        </div>
        <div class="book__page5 book__paper"> </div>
        <div class="book__page_last book__paper">
            <div class="install_package">
                <span class="fadeinout--in install_package__code">npm install pattern-book
                </span>
                <span class="fadeinout--out install_package__code">yarn add pattern-book
                </span>
            </div>
        </div>
        <div class="book__after_last book__paper"> </div>
        <div class="book__page_last_back"> </div>
    </div>
</div>

<div class="red-bands"> </div>

<div class="scroll-down-hint"> ^ </div>

<div class="white-page">


    <h2>Q. This is a pattern library so where's the outdated dev webserver with broken hot reloading?</h2>

    <p>Great question.</p>

    <p>`pattern-book` doesn't include a dev server because other projects do it better.</p>

    <p>So instead just use
        <a href="https://github.com/facebookincubator/create-react-app">Create-React-App</a> or, add `&lt;Book&gt;` tags to a new route in your app, or use whatever boilerplate you like.</p>

    <h2>Q. How does pattern-book organise the page of patterns... with headings, accordions, tabs, or what?</h2>

    <p>It doesn't organise them, so design it however you want!</p>

    <p>Imagine if your pattern library had 5 components then it probably should be organised quite differently to another library
        with 1000 components, so this software is unopinionated about organisation. Pattern-Book just renders the component
        preview so decide for yourself how to organise them (do try
        <a href="https://github.com/springload/react-accessible-accordion/">[react-accessible-accordion</a> though!).</p>

    <h2>Q. How can I make patterns for an existing website?</h2>

    <p>One of the advantages of Pattern-Book is that it detects the CSS Rules being applied, so you can put your entire site's
        CSS files on the page and then write HTML that uses them and Pattern-Book will only display the relevant CSS (no
        need to manually associate CSS with a particular `&lt;Book&gt;`). This means that it's hopefully a lot less effort
        to repurpose your existing CSS as a pattern library.</p>

    <h3>Features</h3>

    <ul>
        <li> [x] Minimal</li>
        <li> [x] CSS Autodetection, so there's no need to manually associate CSS with a pattern</li>
        <li> [x] HTML beautifier</li>
    </ul>

    <h3>ToDo</h3>

    <ul>
        <li> [ ] CSS Beautifier</li>
        <li> [ ] ZIP download of particular components (including assets, eg backgrounds images and fonts).</li>
        <li> [ ] CSS Rule blacklist (and whitelist?) per-book</li>
        <li> [ ] ...and show prop types, somehow? (`prop-types` or Flow/TS?). Sadly I'm not sure how we could support FlowType/TypeScript
            types because those are removed at compile-time.</li>
        <li> [ ] Detect basic JSX React Components... this is almost working</li>
        <li> [ ] Render prop overrides for HTML and CSS (and the whole render()?)</li>
        <li> [ ] Make it support interactive components (eg accumulating CSS across these multiple states).</li>
        <li> [ ] Make the `&lt;Book&gt;` not render until it scrolls into view (pattern libraries are notorious for having hundreds
            of compnents on a long page, so this is hopefully an easy optimisation).</li>
        <li> [ ] Parse SourceMaps to derive Sass (etc) if possible.</li>
    </ul>

</div>


<div>
    <h1>Credits</h1>
    <p>The background book tile graphic
        <a href="http://www.freepik.com">designed by Freepik</a>
    </p>
    <p>The software, animated book, by Matt Holloway.</p>
</div>

<script>
    (function () {
        var bookFlipArea = document.getElementById("book-area");
        var installCommand = document.getElementById("install_command");

        if (bookFlipArea && installCommand) {
            bookFlipArea.addEventListener('click', function () {
                installCommand.select();
                try {
                    var successful = document.execCommand('copy');
                    console.log('Copying text command was ' + successful);
                } catch (err) {
                    console.log('Oops, unable to copy');
                }
            })
        }
    }())
</script>

</html>